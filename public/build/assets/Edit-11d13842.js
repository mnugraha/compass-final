import{L as x}from"./Admin-79ed5fa9.js";import{H as C,L as E,r as U,b as y,o as a,c as r,d as u,w as p,e as o,f as T,g as h,W as q,t as m,j as d,K as c,m as S,F as B,k as D,l as w,V as L}from"./app-7aa65b10.js";import{S as f}from"./sweetalert2.all-780e3ebe.js";import{E as P}from"./Editor-204e211b.js";import{a as j}from"./axios-4a70c6fc.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";const I={layout:x,components:{Head:C,Link:E,Editor:P},props:{errors:Object,exam:Object,question:Object},data(){return{editorContent:"",editorConfig:{plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons",images_upload_handler:this.uploadImage}}},methods:{uploadImage(s,i,e){const t=new FormData;t.append("image",s.blob(),s.filename()),j.post("/admin/exams/questions/upload-image",t).then(l=>{const b=l.data.location;i(b)}).catch(l=>{console.error(l),e("Image upload failed")})}},setup(s){const i=U({question_type:s.question.question_type,question:s.question.question,question_file:"",option_1:s.question.option_1,option_2:s.question.option_2,option_3:s.question.option_3,option_4:s.question.option_4,option_5:s.question.option_5,answer:s.question.answer,_method:"PUT"});return{form:i,submit:()=>{D.Inertia.post(`/admin/exams/${s.exam.id}/questions/${s.question.id}/update`,i,{forceFormData:!0,onSuccess:()=>{f.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:l=>{l.addEventListener("mouseenter",f.stopTimer),l.addEventListener("mouseleave",f.resumeTimer)}}).fire({icon:"success",title:"Data berhasil perbarui."})},onError:t=>{t.message&&f.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:b=>{b.addEventListener("mouseenter",f.stopTimer),b.addEventListener("mouseleave",f.resumeTimer)}}).fire({icon:"error",title:t.message||"Data gagal diperbarui."})}})}}}},N=o("title",null,"Edit Soal Ujian",-1),A={class:"container-fluid mb-5 mt-5"},F={class:"row"},H={class:"col-md-12"},M=o("i",{class:"fa fa-long-arrow-alt-left me-2"},null,-1),K=w(" Kembali"),R={class:"card border-0 shadow"},z={class:"card-body"},J=o("h5",null,[o("i",{class:"fa fa-question-circle"}),w(" Edit Soal Ujian ")],-1),W=o("hr",null,null,-1),X={class:"table-responsive mb-4"},G={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},Q=o("td",{rowspan:"2",style:{width:"20%"},class:"fw-bold"}," Soal ",-1),Y={class:"form-check form-check-inline"},Z=o("label",{class:"form-check-label",for:"question_type1"}," TEXT ",-1),$={class:"form-check form-check-inline"},oo=o("label",{class:"form-check-label",for:"question_type2"}," AUDIO ",-1),eo={key:0,class:"text-danger small mt-2"},to={key:0},io={key:0,class:"invalid-feedback mt-2"},no={key:1},so={key:0,class:"mb-2",controls:""},lo=["src"],ao={key:1,class:"invalid-feedback mt-2"},ro=o("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan A ",-1),mo={key:0,class:"invalid-feedback mt-2"},uo=o("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan B ",-1),co={key:0,class:"invalid-feedback mt-2"},_o=o("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan C ",-1),fo={key:0,class:"invalid-feedback mt-2"},bo=o("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan D ",-1),yo={key:0,class:"invalid-feedback mt-2"},ho=o("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan E ",-1),vo={key:0,class:"invalid-feedback mt-2"},ko=o("td",{style:{width:"20%"},class:"fw-bold"}," Jawaban Benar ",-1),po=L('<option value="1">A</option><option value="2">B</option><option value="3">C</option><option value="4">D</option><option value="5">E</option>',5),qo=[po],wo={key:0,class:"invalid-feedback mt-2"},go=o("button",{type:"submit",class:"btn btn-md btn-primary border-0 shadow me-2"}," Simpan ",-1),Vo=o("button",{type:"reset",class:"btn btn-md btn-warning border-0 shadow"}," Reset ",-1);function xo(s,i,e,t,l,b){var v,k;const g=y("Head"),V=y("Link"),_=y("Editor");return a(),r(B,null,[u(g,null,{default:p(()=>[N]),_:1}),o("div",A,[o("div",F,[o("div",H,[u(V,{href:`/admin/exams/${e.exam.id}`,class:"btn btn-md btn-primary border-0 shadow mb-3",type:"button"},{default:p(()=>[M,K]),_:1},8,["href"]),o("div",R,[o("div",z,[J,W,o("form",{onSubmit:i[10]||(i[10]=T((...n)=>t.submit&&t.submit(...n),["prevent"]))},[o("div",X,[o("table",G,[o("tbody",null,[o("tr",null,[Q,o("td",null,[o("div",Y,[h(o("input",{class:"form-check-input",type:"radio",name:"question_type",id:"question_type1",value:"text","onUpdate:modelValue":i[0]||(i[0]=n=>t.form.question_type=n)},null,512),[[q,t.form.question_type]]),Z]),o("div",$,[h(o("input",{class:"form-check-input",type:"radio",name:"question_type",id:"question_type2",value:"audio","onUpdate:modelValue":i[1]||(i[1]=n=>t.form.question_type=n)},null,512),[[q,t.form.question_type]]),oo]),e.errors.question_type?(a(),r("div",eo,m(e.errors.question_type),1)):d("",!0)])]),o("tr",null,[o("td",null,[t.form.question_type==="text"?(a(),r("div",to,[u(_,{"api-key":"no-api-key",modelValue:t.form.question,"onUpdate:modelValue":i[2]||(i[2]=n=>t.form.question=n),init:l.editorConfig,class:c(e.errors.question?"is-invalid":"")},null,8,["modelValue","init","class"]),e.errors.question?(a(),r("div",io,m(e.errors.question),1)):d("",!0)])):d("",!0),t.form.question_type==="audio"?(a(),r("div",no,[(v=e.question)!=null&&v.question_file?(a(),r("audio",so,[o("source",{src:`/storage/exams/question/${(k=e.question)==null?void 0:k.question_file}`,type:"audio/mpeg"},null,8,lo)])):d("",!0),o("input",{type:"file",class:c(["form-control",e.errors.question_file?"is-invalid":""]),onInput:i[3]||(i[3]=n=>t.form.question_file=n.target.files[0])},null,34),e.errors.question_file?(a(),r("div",ao,m(e.errors.question_file),1)):d("",!0)])):d("",!0)])]),o("tr",null,[ro,o("td",null,[u(_,{"api-key":"no-api-key",modelValue:t.form.option_1,"onUpdate:modelValue":i[4]||(i[4]=n=>t.form.option_1=n),class:c(e.errors.option_1?"is-invalid":""),init:l.editorConfig},null,8,["modelValue","class","init"]),e.errors.option_1?(a(),r("div",mo,m(e.errors.option_1),1)):d("",!0)])]),o("tr",null,[uo,o("td",null,[u(_,{"api-key":"no-api-key",modelValue:t.form.option_2,"onUpdate:modelValue":i[5]||(i[5]=n=>t.form.option_2=n),class:c(e.errors.option_2?"is-invalid":""),init:l.editorConfig},null,8,["modelValue","class","init"]),e.errors.option_2?(a(),r("div",co,m(e.errors.option_2),1)):d("",!0)])]),o("tr",null,[_o,o("td",null,[u(_,{"api-key":"no-api-key",modelValue:t.form.option_3,"onUpdate:modelValue":i[6]||(i[6]=n=>t.form.option_3=n),class:c(e.errors.option_3?"is-invalid":""),init:l.editorConfig},null,8,["modelValue","class","init"]),e.errors.option_3?(a(),r("div",fo,m(e.errors.option_3),1)):d("",!0)])]),o("tr",null,[bo,o("td",null,[u(_,{"api-key":"no-api-key",modelValue:t.form.option_4,"onUpdate:modelValue":i[7]||(i[7]=n=>t.form.option_4=n),class:c(e.errors.option_4?"is-invalid":""),init:l.editorConfig},null,8,["modelValue","class","init"]),e.errors.option_4?(a(),r("div",yo,m(e.errors.option_4),1)):d("",!0)])]),o("tr",null,[ho,o("td",null,[u(_,{"api-key":"no-api-key",modelValue:t.form.option_5,"onUpdate:modelValue":i[8]||(i[8]=n=>t.form.option_5=n),class:c(e.errors.option_5?"is-invalid":""),init:l.editorConfig},null,8,["modelValue","class","init"]),e.errors.option_5?(a(),r("div",vo,m(e.errors.option_5),1)):d("",!0)])]),o("tr",null,[ko,o("td",null,[h(o("select",{class:c(["form-control",e.errors.answer?"is-invalid":""]),"onUpdate:modelValue":i[9]||(i[9]=n=>t.form.answer=n)},qo,2),[[S,t.form.answer]]),e.errors.answer?(a(),r("div",wo,m(e.errors.answer),1)):d("",!0)])])])])]),go,Vo],32)])])])])])],64)}const Do=O(I,[["render",xo]]);export{Do as default};
