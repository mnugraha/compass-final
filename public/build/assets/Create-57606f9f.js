import{L as q}from"./Admin-914d9506.js";import{H as V,L as x,r as C,b,o as l,c as a,d as m,w as h,e as o,f as E,g as y,W as v,t as d,j as r,K as u,m as T,F as U,k as S,l as k,V as B}from"./app-2fd99817.js";import{S as c}from"./sweetalert2.all-641daeb3.js";import{E as L}from"./Editor-cbd5a662.js";import{a as D}from"./axios-4a70c6fc.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";const j={layout:q,components:{Head:V,Link:x,Editor:L},props:{errors:Object,exam:Object},data(){return{editorContent:"",editorConfig:{plugins:"lists link image emoticons",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons",images_upload_handler:this.uploadImage}}},methods:{uploadImage(f,e,t){const i=new FormData;i.append("image",f.blob(),f.filename()),D.post("/admin/exams/questions/upload-image",i).then(s=>{const p=s.data.location;e(p)}).catch(s=>{console.error(s),t("Image upload failed")})}},setup(f){const e=C({question_type:"text",question:"",question_file:"",option_1:"",option_2:"",option_3:"",option_4:"",option_5:"",answer:""});return{form:e,submit:()=>{S.Inertia.post(`/admin/exams/${f.exam.id}/questions/store`,{question_type:e.question_type,question:e.question,question_file:e.question_file,option_1:e.option_1,option_2:e.option_2,option_3:e.option_3,option_4:e.option_4,option_5:e.option_5,answer:e.answer},{onSuccess:()=>{c.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:s=>{s.addEventListener("mouseenter",c.stopTimer),s.addEventListener("mouseleave",c.resumeTimer)}}).fire({icon:"success",title:"Data berhasil disimpan."})},onError:i=>{i.message&&c.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:p=>{p.addEventListener("mouseenter",c.stopTimer),p.addEventListener("mouseleave",c.resumeTimer)}}).fire({icon:"error",title:i.message||"Data gagal disimpan."})}})}}}},I=o("title",null,"Tambah Soal Ujian",-1),N={class:"container-fluid mb-5 mt-5"},O={class:"row"},A={class:"col-md-12"},H=o("i",{class:"fa fa-long-arrow-alt-left me-2"},null,-1),F=k(" Kembali"),M={class:"card border-0 shadow"},K={class:"card-body"},R=o("h5",null,[o("i",{class:"fa fa-question-circle"}),k(" Tambah Soal Ujian ")],-1),z=o("hr",null,null,-1),J={class:"table-responsive mb-4"},W={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},X=o("td",{rowspan:"2",style:{width:"20%"},class:"fw-bold"}," Soal ",-1),G={class:"form-check form-check-inline"},Q=o("label",{class:"form-check-label",for:"question_type1"}," TEXT ",-1),Y={class:"form-check form-check-inline"},Z=o("label",{class:"form-check-label",for:"question_type2"}," AUDIO ",-1),$={key:0,class:"text-danger small mt-2"},oo={key:0},eo={key:0,class:"invalid-feedback mt-2"},to={key:1},io={key:0,class:"invalid-feedback mt-2"},no=o("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan A ",-1),so={key:0,class:"invalid-feedback mt-2"},lo=o("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan B ",-1),ao={key:0,class:"invalid-feedback mt-2"},ro=o("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan C ",-1),mo={key:0,class:"invalid-feedback mt-2"},uo=o("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan D ",-1),_o={key:0,class:"invalid-feedback mt-2"},co=o("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan E ",-1),fo={key:0,class:"invalid-feedback mt-2"},po=o("td",{style:{width:"20%"},class:"fw-bold"}," Jawaban Benar ",-1),bo=B('<option value="1">A</option><option value="2">B</option><option value="3">C</option><option value="4">D</option><option value="5">E</option>',5),yo=[bo],ho={key:0,class:"invalid-feedback mt-2"},vo=o("button",{type:"submit",class:"btn btn-md btn-primary border-0 shadow me-2"}," Simpan ",-1),ko=o("button",{type:"reset",class:"btn btn-md btn-warning border-0 shadow"}," Reset ",-1);function wo(f,e,t,i,s,p){const w=b("Head"),g=b("Link"),_=b("Editor");return l(),a(U,null,[m(w,null,{default:h(()=>[I]),_:1}),o("div",N,[o("div",O,[o("div",A,[m(g,{href:`/admin/exams/${t.exam.id}`,class:"btn btn-md btn-primary border-0 shadow mb-3",type:"button"},{default:h(()=>[H,F]),_:1},8,["href"]),o("div",M,[o("div",K,[R,z,o("form",{onSubmit:e[10]||(e[10]=E((...n)=>i.submit&&i.submit(...n),["prevent"]))},[o("div",J,[o("table",W,[o("tbody",null,[o("tr",null,[X,o("td",null,[o("div",G,[y(o("input",{class:"form-check-input",type:"radio",name:"question_type",id:"question_type1",value:"text","onUpdate:modelValue":e[0]||(e[0]=n=>i.form.question_type=n)},null,512),[[v,i.form.question_type]]),Q]),o("div",Y,[y(o("input",{class:"form-check-input",type:"radio",name:"question_type",id:"question_type2",value:"audio","onUpdate:modelValue":e[1]||(e[1]=n=>i.form.question_type=n)},null,512),[[v,i.form.question_type]]),Z]),t.errors.question_type?(l(),a("div",$,d(t.errors.question_type),1)):r("",!0)])]),o("tr",null,[o("td",null,[i.form.question_type==="text"?(l(),a("div",oo,[m(_,{"api-key":"no-api-key",modelValue:i.form.question,"onUpdate:modelValue":e[2]||(e[2]=n=>i.form.question=n),init:s.editorConfig,class:u(t.errors.question?"is-invalid":"")},null,8,["modelValue","init","class"]),t.errors.question?(l(),a("div",eo,d(t.errors.question),1)):r("",!0)])):r("",!0),i.form.question_type==="audio"?(l(),a("div",to,[o("input",{type:"file",class:u(["form-control",t.errors.question_file?"is-invalid":""]),onInput:e[3]||(e[3]=n=>i.form.question_file=n.target.files[0])},null,34),t.errors.question_file?(l(),a("div",io,d(t.errors.question_file),1)):r("",!0)])):r("",!0)])]),o("tr",null,[no,o("td",null,[m(_,{"api-key":"no-api-key",modelValue:i.form.option_1,"onUpdate:modelValue":e[4]||(e[4]=n=>i.form.option_1=n),class:u(t.errors.option_1?"is-invalid":""),init:s.editorConfig},null,8,["modelValue","class","init"]),t.errors.option_1?(l(),a("div",so,d(t.errors.option_1),1)):r("",!0)])]),o("tr",null,[lo,o("td",null,[m(_,{"api-key":"no-api-key",modelValue:i.form.option_2,"onUpdate:modelValue":e[5]||(e[5]=n=>i.form.option_2=n),class:u(t.errors.option_2?"is-invalid":""),init:s.editorConfig},null,8,["modelValue","class","init"]),t.errors.option_2?(l(),a("div",ao,d(t.errors.option_2),1)):r("",!0)])]),o("tr",null,[ro,o("td",null,[m(_,{"api-key":"no-api-key",modelValue:i.form.option_3,"onUpdate:modelValue":e[6]||(e[6]=n=>i.form.option_3=n),class:u(t.errors.option_3?"is-invalid":""),init:s.editorConfig},null,8,["modelValue","class","init"]),t.errors.option_3?(l(),a("div",mo,d(t.errors.option_3),1)):r("",!0)])]),o("tr",null,[uo,o("td",null,[m(_,{"api-key":"no-api-key",modelValue:i.form.option_4,"onUpdate:modelValue":e[7]||(e[7]=n=>i.form.option_4=n),class:u(t.errors.option_4?"is-invalid":""),init:s.editorConfig},null,8,["modelValue","class","init"]),t.errors.option_4?(l(),a("div",_o,d(t.errors.option_4),1)):r("",!0)])]),o("tr",null,[co,o("td",null,[m(_,{"api-key":"no-api-key",modelValue:i.form.option_5,"onUpdate:modelValue":e[8]||(e[8]=n=>i.form.option_5=n),class:u(t.errors.option_5?"is-invalid":""),init:s.editorConfig},null,8,["modelValue","class","init"]),t.errors.option_5?(l(),a("div",fo,d(t.errors.option_5),1)):r("",!0)])]),o("tr",null,[po,o("td",null,[y(o("select",{class:u(["form-control",t.errors.answer?"is-invalid":""]),"onUpdate:modelValue":e[9]||(e[9]=n=>i.form.answer=n)},yo,2),[[T,i.form.answer]]),t.errors.answer?(l(),a("div",ho,d(t.errors.answer),1)):r("",!0)])])])])]),vo,ko],32)])])])])])],64)}const To=P(j,[["render",wo]]);export{To as default};
