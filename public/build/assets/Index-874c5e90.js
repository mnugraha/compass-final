import{L as T}from"./Admin-914d9506.js";import{H as V,a as A,r as F,b as N,o as i,c as n,d as L,w as H,e as t,f as U,g as P,m as I,F as f,i as D,t as o,j,v as O,k as B,l as _,K as M}from"./app-2fd99817.js";import{P as q}from"./Pagination-ceb1ea9d.js";import{S as b}from"./sweetalert2.all-641daeb3.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";const R={layout:T,components:{Head:V,Pagination:q},props:{errors:Object,exams:Array,grades:Array},setup(){const m=A(new URL(document.location).searchParams.get("q")),e=F({exam_id:new URL(document.location).searchParams.get("exam_id")});return{form:e,filter:()=>{B.Inertia.get("/admin/grade/filter",{exam_id:e.exam_id},{onError:h=>{h.message&&b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:c=>{c.addEventListener("mouseenter",b.stopTimer),c.addEventListener("mouseleave",b.resumeTimer)}}).fire({icon:"error",title:h.message||"Data gagal ditampilkan."})}})},search:m,handleSearch:()=>{B.Inertia.get("/admin/grade/filter",{q:m.value,exam_id:e.exam_id})}}}},z=t("title",null,"Nilai Ujian",-1),K={class:"container-fluid mb-5 mt-5"},W={class:"row"},X={class:"col-md-12"},G={class:"card border-0 shadow mb-4"},Q={class:"card-body"},Y=t("h5",null,[t("i",{class:"fa fa-filter"}),_(" Filter Data")],-1),Z=t("hr",null,null,-1),g={class:"row"},$={class:"col-md-9"},tt=t("label",{class:"control-label",for:"name"},"Ujian",-1),st=["value"],et={key:0,class:"invalid-feedback mt-2"},ot=t("div",{class:"col-md-3"},[t("label",{class:"form-label fw-bold text-white"},"*"),t("button",{type:"submit",class:"btn btn-md btn-primary border-0 shadow w-100"},[t("i",{class:"fa fa-filter"}),_(" Filter ")])],-1),at={key:0,class:"card border-0 shadow"},lt={class:"card-body"},it={class:"row"},nt=t("div",{class:"col-md-9 col-12"},[t("h5",{class:"mt-2"},[t("i",{class:"fa fa-chart-line"}),_(" Nilai Ujian ")])],-1),rt={class:"col-md-3 col-12"},dt=["href"],ct=t("i",{class:"fa fa-file-excel"},null,-1),_t=_(" DOWNLOAD EXCEL"),mt=[ct,_t],ht=t("hr",null,null,-1),ut={class:"row mb-2"},ft={class:"col-md-6 col-12 mb-2"},bt={class:"input-group"},vt=t("span",{class:"input-group-text"},[t("i",{class:"fa fa-search"})],-1),wt={class:"table-responsive"},pt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},kt=t("thead",{class:"thead-dark"},[t("tr",{class:"border-0"},[t("th",{class:"border-0 rounded-start",style:{width:"5%"}}," No. "),t("th",{class:"border-0"},"Ujian"),t("th",{class:"border-0"},"ID User"),t("th",{class:"border-0"},"Nama"),t("th",{class:"border-0"},"Jumlah Benar"),t("th",{class:"border-0"},"Jumlah Salah"),t("th",{class:"border-0"},"Nilai")])],-1),xt=t("div",{class:"mt-2"},null,-1),yt={class:"fw-bold text-center white-space"},St={class:"white-space"},Nt={class:"fw-bold text-center"};function Lt(m,e,a,l,h,C){var v,w,p,k,x;const c=N("Head"),E=N("Pagination");return i(),n(f,null,[L(c,null,{default:H(()=>[z]),_:1}),t("div",K,[t("div",W,[t("div",X,[t("div",G,[t("div",Q,[Y,Z,t("form",{onSubmit:e[1]||(e[1]=U((...s)=>l.filter&&l.filter(...s),["prevent"]))},[t("div",g,[t("div",$,[tt,P(t("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=s=>l.form.exam_id=s)},[(i(!0),n(f,null,D(a.exams,(s,u)=>{var r,d;return i(),n("option",{key:u,value:s.id,class:M(a.errors.exam_id?"is-invalid":"")},o(s==null?void 0:s.title)+" â€” Peran : "+o((r=s==null?void 0:s.peran)==null?void 0:r.nm_peran)+" - "+o((d=s==null?void 0:s.level)==null?void 0:d.level),11,st)}),128))],512),[[I,l.form.exam_id]]),a.errors.exam_id?(i(),n("div",et,o(a.errors.exam_id),1)):j("",!0)]),ot])],32)])]),((w=(v=a.grades)==null?void 0:v.data)==null?void 0:w.length)>0?(i(),n("div",at,[t("div",lt,[t("div",it,[nt,t("div",rt,[t("a",{href:`/admin/grade/export?exam_id=${l.form.exam_id}`,target:"_blank",class:"btn btn-success btn-md border-0 shadow w-100 text-white"},mt,8,dt)])]),ht,t("div",ut,[t("div",ft,[t("form",{onSubmit:e[3]||(e[3]=U((...s)=>l.handleSearch&&l.handleSearch(...s),["prevent"]))},[t("div",bt,[P(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=s=>l.search=s),placeholder:"masukkan kata kunci dan enter..."},null,512),[[O,l.search]]),vt])],32)])]),t("div",wt,[t("table",pt,[kt,xt,t("tbody",null,[(i(!0),n(f,null,D(a.grades.data,(s,u)=>{var r,d,y,S;return i(),n("tr",{key:s.id},[t("td",yt,o(u+1),1),t("td",St,o((r=s==null?void 0:s.exam)==null?void 0:r.title)+" - "+o((d=s==null?void 0:s.exam_session)==null?void 0:d.title),1),t("td",null,o((y=s==null?void 0:s.user)==null?void 0:y.id_user),1),t("td",null,o((S=s==null?void 0:s.user)==null?void 0:S.name),1),t("td",null,o(s==null?void 0:s.total_correct),1),t("td",null,o(s==null?void 0:s.total_incorrect),1),t("td",Nt,o(s==null?void 0:s.grade),1)])}),128))])])]),L(E,{links:(p=a.grades)==null?void 0:p.links,show:(k=a.grades)==null?void 0:k.per_page,total:(x=a.grades)==null?void 0:x.total,align:"end"},null,8,["links","show","total"])])])):j("",!0)])])])],64)}const Ct=J(R,[["render",Lt]]);export{Ct as default};
